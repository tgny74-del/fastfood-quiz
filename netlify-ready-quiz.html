<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fast Food Complainer-O-Meter</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const FastFoodMeter = () => {
            const [answers, setAnswers] = useState({});
            const [showResults, setShowResults] = useState(false);
            const [displayScore, setDisplayScore] = useState(0);

            const questions = [
                {
                    text: "How often do you complain about fast food prices being too high?",
                    options: [
                        { text: "Never - prices are fine", score: 0 },
                        { text: "Occasionally - when it's really expensive", score: 1 },
                        { text: "Frequently - prices are ridiculous now!", score: 2 },
                        { text: "Every single time - it's highway robbery!", score: 3 }
                    ]
                },
                {
                    text: "When you notice shrinkflation (smaller portions), what do you do?",
                    options: [
                        { text: "Stop buying from that place", score: 0 },
                        { text: "Complain but still consider going back", score: 1 },
                        { text: "Rant about it, then order anyway", score: 2 },
                        { text: "Post angry reviews while eating it", score: 3 }
                    ]
                },
                {
                    text: "You just paid $15 for a combo meal. Your reaction?",
                    options: [
                        { text: "That's reasonable for today's prices", score: 0 },
                        { text: "A bit steep but whatever", score: 1 },
                        { text: "This is insane! *takes a bite*", score: 2 },
                        { text: "I'm NEVER coming back! *saves location as favorite*", score: 3 }
                    ]
                },
                {
                    text: "How many times have you said 'I'm done with [fast food place]' but went back?",
                    options: [
                        { text: "Never said that", score: 0 },
                        { text: "Once or twice", score: 1 },
                        { text: "Multiple times this month", score: 2 },
                        { text: "I've lost count", score: 3 }
                    ]
                },
                {
                    text: "Your burger is visibly smaller than the menu photo. You...",
                    options: [
                        { text: "Accept it and move on", score: 0 },
                        { text: "Feel disappointed but eat it", score: 1 },
                        { text: "Complain loudly while eating", score: 2 },
                        { text: "Film it for social media, post rant, order again next week", score: 3 }
                    ]
                },
                {
                    text: "When friends suggest cooking at home to save money, you say:",
                    options: [
                        { text: "Great idea! Let's do it", score: 0 },
                        { text: "Yeah, we should... *checks DoorDash*", score: 1 },
                        { text: "I don't have time! *spends 30 min deciding what to order*", score: 2 },
                        { text: "Cooking is expensive too! *orders $25 worth of fries*", score: 3 }
                    ]
                },
                {
                    text: "How do you feel about fast food loyalty programs?",
                    options: [
                        { text: "Don't use them", score: 0 },
                        { text: "Use them occasionally", score: 1 },
                        { text: "Active member while complaining prices are too high", score: 2 },
                        { text: "Platinum member + complain daily about costs", score: 3 }
                    ]
                },
                {
                    text: "A fast food place raises prices by $1. You:",
                    options: [
                        { text: "Find a cheaper alternative", score: 0 },
                        { text: "Reduce how often I go", score: 1 },
                        { text: "Complain but keep same routine", score: 2 },
                        { text: "Make angry posts, then mobile order on the way home", score: 3 }
                    ]
                },
                {
                    text: "Your last 3 bank transactions are all fast food. Your thoughts?",
                    options: [
                        { text: "Time to meal prep", score: 0 },
                        { text: "I should cut back", score: 1 },
                        { text: "These prices are insane! *keeps scrolling*", score: 2 },
                        { text: "I'm being robbed! *adds 4th transaction*", score: 3 }
                    ]
                },
                {
                    text: "Be honest: What are you most likely to do after taking this quiz?",
                    options: [
                        { text: "Actually cook at home", score: 0 },
                        { text: "Consider my options", score: 1 },
                        { text: "Share quiz, then hit the drive-thru", score: 2 },
                        { text: "Order fast food while reading my results", score: 3 }
                    ]
                }
            ];

            const results = [
                {
                    min: 0,
                    max: 7,
                    category: "The Rational Consumer",
                    emoji: "üòå",
                    description: "You're actually living your values! You either don't complain much, or when you do, you vote with your wallet. You're breaking the cycle!",
                    advice: "Keep it up! You're making conscious choices about where your money goes."
                },
                {
                    min: 8,
                    max: 15,
                    category: "The Conflicted Customer",
                    emoji: "üòÖ",
                    description: "You complain sometimes but you're not too stuck in the cycle. You notice the issues but haven't quite broken the habit yet.",
                    advice: "You're aware of the problem - now it's about following through! Try meal prepping once a week."
                },
                {
                    min: 16,
                    max: 22,
                    category: "The Professional Complainer",
                    emoji: "üò§",
                    description: "You're DEEP in the cycle! You complain constantly about prices and shrinkflation but keep going back like clockwork. The cognitive dissonance is real!",
                    advice: "Your wallet and your words don't match! Time to either accept the prices or find alternatives."
                },
                {
                    min: 23,
                    max: 30,
                    category: "The Ultimate Hypocrite",
                    emoji: "ü§°",
                    description: "You're the ULTIMATE fast food complainer who keeps going back! You're probably ordering right now while reading this. You're the person this video is about!",
                    advice: "At this point, just admit you love it and stop complaining OR actually cook at home. The addiction is real!"
                }
            ];

            const handleAnswer = (questionIndex, score) => {
                setAnswers({ ...answers, [questionIndex]: score });
            };

            const calculateScore = () => {
                return Object.values(answers).reduce((sum, score) => sum + score, 0);
            };

            const canShowResults = Object.keys(answers).length === questions.length;

            const handleShowResults = () => {
                if (canShowResults) {
                    setShowResults(true);
                    animateScore(calculateScore());
                }
            };

            const animateScore = (targetScore) => {
                const duration = 1500;
                const startTime = Date.now();
                const startScore = 0;

                const updateScore = () => {
                    const now = Date.now();
                    const progress = Math.min((now - startTime) / duration, 1);
                    const easeOut = 1 - Math.pow(1 - progress, 3);
                    const currentScore = Math.round(startScore + (targetScore - startScore) * easeOut);
                    
                    setDisplayScore(currentScore);
                    
                    if (progress < 1) {
                        requestAnimationFrame(updateScore);
                    }
                };
                
                requestAnimationFrame(updateScore);
            };

            const restart = () => {
                setAnswers({});
                setShowResults(false);
                setDisplayScore(0);
            };

            const getResult = () => {
                const score = calculateScore();
                return results.find(r => score >= r.min && score <= r.max);
            };

            const getGaugeFillDasharray = (score) => {
                const arcLength = 220;
                const fillLength = (score / 30) * arcLength;
                return `${fillLength} ${arcLength}`;
            };

            if (showResults) {
                const result = getResult();
                const finalScore = calculateScore();

                return (
                    <div className="min-h-screen p-4 md:p-8" style={{ backgroundColor: '#FEF3C7' }}>
                        <div className="max-w-2xl mx-auto">
                            <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8">
                                <div className="text-center mb-6">
                                    <div className="text-6xl mb-4">{result.emoji}</div>
                                    <h1 className="text-3xl md:text-4xl font-bold mb-2" style={{ color: '#92400E' }}>
                                        Your Score: {finalScore}/30
                                    </h1>
                                </div>

                                <div className="flex flex-col items-center mb-8">
                                    <div className="relative w-80 h-48">
                                        <svg viewBox="0 0 200 130" className="w-full h-full">
                                            <path
                                                d="M 30 100 A 70 70 0 0 1 170 100"
                                                fill="none"
                                                stroke="#E5E7EB"
                                                strokeWidth="20"
                                                strokeLinecap="round"
                                            />
                                            <path
                                                d="M 30 100 A 70 70 0 0 1 170 100"
                                                fill="none"
                                                stroke="#F59E0B"
                                                strokeWidth="20"
                                                strokeLinecap="round"
                                                strokeDasharray={getGaugeFillDasharray(displayScore)}
                                                style={{ transition: 'all 1.5s ease-out' }}
                                            />
                                            <defs>
                                                <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                    <stop offset="0%" stopColor="#10B981" />
                                                    <stop offset="33%" stopColor="#FBBF24" />
                                                    <stop offset="66%" stopColor="#F97316" />
                                                    <stop offset="100%" stopColor="#DC2626" />
                                                </linearGradient>
                                            </defs>
                                            <text x="28" y="125" textAnchor="middle" className="text-xs font-medium" fill="#92400E">0</text>
                                            <text x="100" y="15" textAnchor="middle" className="text-xs font-medium" fill="#92400E">15</text>
                                            <text x="172" y="125" textAnchor="middle" className="text-xs font-medium" fill="#92400E">30</text>
                                        </svg>
                                    </div>
                                </div>

                                <div className="text-center mb-6">
                                    <h2 className="text-2xl md:text-3xl font-bold mb-4" style={{ color: '#B45309' }}>
                                        {result.category}
                                    </h2>
                                </div>

                                <div className="bg-amber-50 rounded-lg p-6 mb-4">
                                    <p className="text-base md:text-lg" style={{ color: '#92400E' }}>
                                        {result.description}
                                    </p>
                                </div>

                                <div className="bg-amber-100 rounded-lg p-6 mb-6">
                                    <p className="font-semibold mb-2" style={{ color: '#92400E' }}>
                                        Reality Check:
                                    </p>
                                    <p style={{ color: '#92400E' }}>
                                        {result.advice}
                                    </p>
                                </div>

                                <button
                                    onClick={restart}
                                    className="w-full py-4 rounded-lg font-bold text-white transition-all transform hover:scale-105"
                                    style={{ backgroundColor: '#F59E0B' }}
                                >
                                    Take Quiz Again
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="min-h-screen p-4 md:p-8" style={{ backgroundColor: '#FEF3C7' }}>
                    <div className="max-w-2xl mx-auto">
                        <div className="text-center mb-8">
                            <div className="text-6xl mb-4">üçî</div>
                            <h1 className="text-4xl md:text-5xl font-bold mb-2" style={{ color: '#92400E' }}>
                                Fast Food Complainer-O-Meter
                            </h1>
                            <p className="text-lg" style={{ color: '#78350F' }}>
                                Do you complain about prices but keep going back?
                            </p>
                        </div>

                        <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8">
                            <div className="mb-6">
                                <div className="flex justify-between text-sm mb-2" style={{ color: '#F59E0B' }}>
                                    <span>Question {Object.keys(answers).length} of {questions.length}</span>
                                    <span>{Math.round((Object.keys(answers).length / questions.length) * 100)}%</span>
                                </div>
                                <div className="w-full bg-gray-200 rounded-full h-2">
                                    <div
                                        className="h-2 rounded-full transition-all duration-300"
                                        style={{ 
                                            width: `${(Object.keys(answers).length / questions.length) * 100}%`,
                                            backgroundColor: '#F59E0B'
                                        }}
                                    />
                                </div>
                            </div>

                            <div className="space-y-8">
                                {questions.map((question, qIndex) => (
                                    <div key={qIndex} className="pb-6 border-b border-gray-200 last:border-b-0">
                                        <h3 className="text-lg md:text-xl font-bold mb-4" style={{ color: '#92400E' }}>
                                            {qIndex + 1}. {question.text}
                                        </h3>
                                        <div className="space-y-2">
                                            {question.options.map((option, oIndex) => (
                                                <button
                                                    key={oIndex}
                                                    onClick={() => handleAnswer(qIndex, option.score)}
                                                    className="w-full p-3 md:p-4 text-left rounded-lg border-2 transition-all text-sm md:text-base"
                                                    style={{
                                                        borderColor: answers[qIndex] === option.score ? '#F59E0B' : '#E5E7EB',
                                                        backgroundColor: answers[qIndex] === option.score ? '#FEF3C7' : 'white',
                                                        color: '#92400E'
                                                    }}
                                                >
                                                    <div className="flex items-center">
                                                        <div
                                                            className="w-5 h-5 rounded-full border-2 mr-3 flex items-center justify-center flex-shrink-0"
                                                            style={{
                                                                borderColor: answers[qIndex] === option.score ? '#F59E0B' : '#D1D5DB'
                                                            }}
                                                        >
                                                            {answers[qIndex] === option.score && (
                                                                <div className="w-3 h-3 rounded-full" style={{ backgroundColor: '#F59E0B' }} />
                                                            )}
                                                        </div>
                                                        <span className="font-medium">{option.text}</span>
                                                    </div>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <button
                                onClick={handleShowResults}
                                disabled={!canShowResults}
                                className="mt-8 w-full py-4 rounded-lg font-bold text-white transition-all transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed"
                                style={{
                                    backgroundColor: canShowResults ? '#F59E0B' : '#FCD34D'
                                }}
                            >
                                {canShowResults ? 'See My Results! üçü' : `Answer ${questions.length - Object.keys(answers).length} more question${questions.length - Object.keys(answers).length !== 1 ? 's' : ''}`}
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<FastFoodMeter />, document.getElementById('root'));
    </script>
</body>
</html>